window.__require=function t(i,s,e){function h(o,r){if(!s[o]){if(!i[o]){var c=o.split("/");if(c=c[c.length-1],!i[c]){var a="function"==typeof __require&&__require;if(!r&&a)return a(c,!0);if(n)return n(c,!0);throw new Error("Cannot find module '"+o+"'")}o=c}var d=s[o]={exports:{}};i[o][0].call(d.exports,function(t){return h(i[o][1][t]||t)},d,d.exports,t,i,s,e)}return s[o].exports}for(var n="function"==typeof __require&&__require,o=0;o<e.length;o++)h(e[o]);return h}({joystick:[function(t,i,s){"use strict";cc._RF.push(i,"6bd60GhSgFHuJ9k79QaWy7F","joystick"),cc.Class({extends:cc.Component,properties:{stick:{type:cc.Node,default:null},max_r:50,min_r:10},onLoad:function(){this.dir=-1,this.radius=0,this.stick.on(cc.Node.EventType.TOUCH_MOVE,function(t){var i=t.getLocation(),s=this.node.convertToNodeSpaceAR(i),e=s.mag();if(e>this.max_r&&(s.x=s.x*this.max_r/e,s.y=s.y*this.max_r/e),this.stick.setPosition(s),!(e<this.min_r)){this.dir=-1;var h=Math.atan2(s.y,s.x);h>=-8*Math.PI/8&&h<-7*Math.PI/8?this.dir=2:h>=-7*Math.PI/8&&h<-5*Math.PI/8?this.dir=6:h>=-5*Math.PI/8&&h<-3*Math.PI/8?this.dir=1:h>=-3*Math.PI/8&&h<-1*Math.PI/8?this.dir=7:h>=-1*Math.PI/8&&h<Math.PI/8?this.dir=3:h>=Math.PI/8&&h<3*Math.PI/8?this.dir=4:h>=3*Math.PI/8&&h<5*Math.PI/8?this.dir=0:h>=5*Math.PI/8&&h<7*Math.PI/8?this.dir=5:h>=7*Math.PI/8&&h<8*Math.PI/8&&(this.dir=2),this.radius=h}},this),this.stick.on(cc.Node.EventType.TOUCH_END,function(t){this.stick.setPosition(cc.v2(0,0)),this.dir=-1},this),this.stick.on(cc.Node.EventType.TOUCH_CANCEL,function(t){this.stick.setPosition(cc.v2(0,0)),this.dir=-1},this)},start:function(){}}),cc._RF.pop()},{}],snake:[function(t,i,s){"use strict";cc._RF.push(i,"75460X64zFCjpOW4X1yoP20","snake");var e=t("joystick");cc.Class({extends:cc.Component,properties:{stick:{type:e,default:null},FIXED_TIME:.03,ITEM_DISTANCE:25,speed:100},start:function(){this.fixed_time=0,this.pos_set=[];for(var t=this.ITEM_DISTANCE*(this.node.children.length-1),i=(this.speed,this.FIXED_TIME),s=this.speed*i,e=0,h=t;e<t;)this.pos_set.push(cc.v2(h,0)),e+=s,h-=s;this.pos_set.push(cc.v2(0,0));for(var n=0,o=this.node.children.length-1;o>=0;o--){var r=Math.floor(n*this.ITEM_DISTANCE/s);this.node.children[o].end_cur_index=r,this.node.children[o].setPosition(this.pos_set[r]),n++}},fixed_update:function(t){if(-1!==this.stick.dir){var i=this.stick.radius,s=this.node.children[0],e=this.speed*t,h=e*Math.cos(i),n=e*Math.sin(i);s.x+=h,s.y+=n,this.pos_set.push(s.getPosition());var o=180*i/Math.PI;o=360-o,s.angle=-o;for(var r=1;r<this.node.childrenCount;r++){var c=this.node.children[r],a=c.getPosition();c.end_cur_index++,c.setPosition(this.pos_set[c.end_cur_index]);var d=c.getPosition().sub(a);o=360-(o=180*(i=Math.atan2(d.y,d.x))/Math.PI),c.angle=o}}},update:function(t){for(this.fixed_time+=t;this.fixed_time>this.FIXED_TIME;)this.fixed_update(this.FIXED_TIME),this.fixed_time-=this.FIXED_TIME}}),cc._RF.pop()},{joystick:"joystick"}]},{},["joystick","snake"]);